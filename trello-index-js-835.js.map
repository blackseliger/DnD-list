{"version":3,"sources":["webpack://DnD-list/./src/components/sortableList/index.js","webpack://DnD-list/./src/pages/trello/data.js","webpack://DnD-list/./src/pages/trello/index.js"],"names":["SortableList","checkDragElement","event","style","target","closest","classList","contains","parentNode","display","appendPlaceHolder","clientY","elementBelow","top","height","getBoundingClientRect","middleElem","before","this","placeholderElement","after","constructor","items","clientX","preventDefault","moveDraggingAt","prevElem","previousElementSibling","nextElem","nextElementSibling","columnList","subElements","firstElementChild","lastElementChild","firstElementTop","bottom","right","left","document","elementFromPoint","scrollIfCloseToWindowEdge","dragStop","add","remove","hideForm","openForm","productForm","value","title","addItem","getCard","render","element","createElement","innerHTML","getTemplate","getSubElements","initEventListeners","getSortList","addInput","wrapper","className","dataset","addItems","outerHTML","item","grabHandle","append","getFormGroup","controlPanel","addEventListener","addCard","onPointerDown","controlForm","dragStart","createPlaceholderElement","width","draggingElem","elementInitialIndex","children","indexOf","x","y","offsetWidth","offsetHeight","pointerShift","addDocumentEventListeners","onPointerMove","onPointerUp","removeDocumentEventListeners","removeEventListener","window","scrollBy","documentElement","clientHeight","cssText","replaceWith","elements","querySelectorAll","destroy","text","count","Page","data","initComponents","renderComponents","sortableListFirst","map","sortableListSecond","sortableListThird","components","Object","keys","forEach","component","root","removeEventListeners","values"],"mappings":"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","file":"trello-index-js-835.js","sourcesContent":["export default class SortableList {\n\n  subElements = {};\n\n  onPointerMove = (event) => {\n    const { clientX, clientY } = event;\n    event.preventDefault();\n    // event перемещается по всему документу, следовательно и event target будет постоянно разный\n\n    this.moveDraggingAt(clientX, clientY);\n    // здесь реализовано в оснвном перемещение placeholder\n\n    const prevElem = this.placeholderElement.previousElementSibling;\n    const nextElem = this.placeholderElement.nextElementSibling;\n    const { columnList } = this.subElements;\n\n    const { firstElementChild, lastElementChild } = columnList;\n    const { top: firstElementTop } = firstElementChild.getBoundingClientRect();\n    const { bottom, right, left } = columnList.getBoundingClientRect();\n\n\n\n    if (clientY < firstElementTop) {\n      return firstElementChild.before(this.placeholderElement);\n    }\n\n    if (clientY > bottom) {\n      return lastElementChild.after(this.placeholderElement);\n    }\n\n    if (clientX > right) {\n\n      this.checkDragElement(event, 'none')\n      let elementBelow = document.elementFromPoint(clientX, clientY);\n      this.checkDragElement(event, 'block')\n      \n\n      if (elementBelow && elementBelow.classList.contains('sortable-list__item')) {\n        return this.appendPlaceHolder(clientY, elementBelow);\n      } else {\n        return;\n      }\n    }\n\n    if (clientX < left) {\n      \n      this.checkDragElement(event, 'none')\n      let elementBelow = document.elementFromPoint(clientX, clientY);\n      this.checkDragElement(event, 'block')\n\n      if (elementBelow && elementBelow.classList.contains('sortable-list__item')) {\n        return this.appendPlaceHolder(clientY, elementBelow);\n      } else {\n        return;\n      }\n    }\n\n    if (prevElem) {\n      const { top, height } = prevElem.getBoundingClientRect();\n      const middlePrevElem = top + height / 2;\n\n      if (clientY < middlePrevElem) {\n        return prevElem.before(this.placeholderElement);\n      }\n    }\n\n    if (nextElem) {\n      const { top, height } = nextElem.getBoundingClientRect();\n      const middleNextElem = top + height / 2;\n\n      if (clientY > middleNextElem) {\n        return nextElem.after(this.placeholderElement);\n      }\n    }\n\n    this.scrollIfCloseToWindowEdge(clientY);\n  };\n\n  checkDragElement(event, style) {\n    \n    if (event.target.closest('.sortable-list__item_dragging')) {\n      if (!event.target.classList.contains('sortable-list__item_dragging') && event.target.parentNode.classList.contains('sortable-list__item_dragging')) {\n       event.target.parentNode.style.display = `${style}`;\n      } else {\n       event.target.style.display = `${style}`;\n      }\n    }\n  }\n\n  appendPlaceHolder(clientY, elementBelow) {\n    const { top, height } = elementBelow.getBoundingClientRect();\n    const middleElem = top + height / 2;\n    if (clientY < middleElem) {\n      return elementBelow.before(this.placeholderElement);\n    }\n\n    if (clientY > middleElem) {\n      return elementBelow.after(this.placeholderElement);\n    }\n\n  }\n\n  onPointerUp = () => {\n    this.dragStop();\n  };\n\n  controlForm = (event) => {\n    if (event.target.closest(`[data-element=openForm]`)) {\n      event.target.classList.add('form-hidden');\n      event.target.nextElementSibling.classList.remove('form-hidden');\n    }\n\n    if (event.target.closest(`[data-element=\"handleDelete\"]`)) {\n      this.hideForm();\n    }\n  }\n\n\n  addCard = (event) => {\n    event.preventDefault();\n\n    const { openForm, productForm } = this.subElements;\n\n    const value = event.target.title.value;\n\n    this.addItem(this.getCard(value));\n    openForm.classList.remove('form-hidden');\n    productForm.classList.add('form-hidden');\n\n  }\n\n\n\n\n  constructor({ items = [] } = {}) {\n    this.items = items;\n\n    this.render();\n  }\n\n  render() {\n\n    this.element = document.createElement('div');\n    this.element.innerHTML = this.getTemplate();\n    this.element = this.element.firstElementChild;\n\n    this.subElements = this.getSubElements();\n\n    this.initEventListeners();\n  }\n\n\n  getTemplate() {\n    return `<div class='table__sortable'>\n     ${this.getSortList()}\n     ${this.addInput()}\n    </div>`\n  }\n\n  getSortList() {\n    this.wrapper = document.createElement('ul');\n    this.wrapper.className = 'sortable-list';\n    this.wrapper.dataset.element = 'columnList'\n    this.addItems();\n    return this.wrapper.outerHTML;\n  }\n\n\n\n  hideForm() {\n    const { openForm, productForm } = this.subElements;\n    openForm.classList.remove('form-hidden');\n    productForm.classList.add('form-hidden');\n\n  }\n\n\n  getCard(value) {\n    const element = document.createElement('li');\n\n    element.innerHTML = `\n    <span>${value}</span>\n    <span data-delete-handle><img src=\"./assets/icons/handleDelete.svg\"></span>\n  `;\n\n    return element;\n  }\n\n\n  addItems() {\n    // item is a DOM element\n    for (const item of this.items) {\n      item.classList.add('sortable-list__item');\n      item.dataset.grabHandle = 'grab';\n    }\n\n    this.wrapper.append(...this.items);\n  }\n\n  addInput() {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = this.getFormGroup();\n\n    return wrapper.firstElementChild.innerHTML;\n  }\n\n  addItem(item) {\n\n    const { controlPanel, columnList } = this.subElements;\n\n    item.classList.add('sortable-list__item');\n    item.dataset.grabHandle = 'grab';\n    columnList.append(item);\n  }\n\n  getFormGroup() {\n    return `<div class=\"sortable__add\" data-element=\"controlPanel\">\n      <span class=\"sortable__open\" data-element=\"openForm\">+ Add another Card</span>\n      <form class=\"form-group form-hidden\" data-element=\"productForm\">\n    <label for=\"name\" class=\"form-group__label\">Описание задачи</label>\n    <div class=\"form-group__input\">\n        <input class=\"form-group__control\" name=\"title\" type=\"text\" id=\"name\" required placeholder=\"desc task\">\n    </div>\n    <div class=\"form-group__buttons\">\n        <button  name=\"save\" class=\"button button_primary\">\n            add Card\n         </button>\n         <div class=\"form-group__icon\">\n              <img src=\"./assets/icons/handleDelete.svg\" class=\"form__icon\" data-element=\"handleDelete\" alt=\"\">\n         </div>\n    </div>\n</form>\n    </div>`\n  }\n\n  initEventListeners() {\n\n    const { productForm, columnList, openForm } = this.subElements;\n\n    productForm.addEventListener('submit', this.addCard)\n\n\n    columnList.addEventListener('pointerdown', event => {\n      this.onPointerDown(event);\n    });\n\n    this.element.addEventListener('pointerdown', this.controlForm)\n  }\n\n  onPointerDown(event) {\n    const element = event.target.closest('.sortable-list__item');\n\n    if (element) {\n\n      if (event.target.closest('[data-delete-handle]')) {\n        event.preventDefault();\n\n        element.remove();\n      } else if (event.target.closest('[data-grab-handle]')) {\n        event.preventDefault();\n        // предотвратить запуск выделения (действие браузера)\n\n        this.dragStart(element, event);\n      }\n    }\n\n  }\n\n  createPlaceholderElement(width, height) {\n    const element = document.createElement('li');\n\n    element.className = 'sortable-list__placeholder';\n    element.style.width = `${width}px`;\n    element.style.height = `${height}px`;\n\n    return element;\n  }\n\n  dragStart(element, { clientX, clientY }) {\n\n    const { columnList } = this.subElements;\n\n    this.draggingElem = element;\n    // this.elementInitialIndex = [...this.element.children].indexOf(element);\n    this.elementInitialIndex = [columnList.children].indexOf(element);\n\n\n    const { x, y } = element.getBoundingClientRect();\n\n    const { offsetWidth, offsetHeight } = element;\n\n    this.pointerShift = {\n      x: clientX - x,\n      y: clientY - y\n    };\n\n    // кординаты для выравнивания взятого элемента на уровне мышки\n\n    this.draggingElem.style.width = `${offsetWidth}px`;\n    this.draggingElem.style.height = `${offsetHeight}px`;\n    this.draggingElem.classList.add('sortable-list__item_dragging');\n    // создает пустой placeholder где был элемент\n    this.placeholderElement = this.createPlaceholderElement(offsetWidth, offsetHeight);\n\n    this.draggingElem.after(this.placeholderElement);\n    // move to the end, to be over other list elements\n    // this.element.append(this.draggingElem);\n    columnList.append(this.draggingElem);\n    this.moveDraggingAt(clientX, clientY);\n    this.addDocumentEventListeners();\n  }\n\n\n  moveDraggingAt(clientX, clientY) {\n    this.draggingElem.style.left = `${clientX - this.pointerShift.x}px`;\n    this.draggingElem.style.top = `${clientY - this.pointerShift.y}px`;\n  }\n\n  addDocumentEventListeners() {\n    document.addEventListener('pointermove', this.onPointerMove);\n    document.addEventListener('pointerup', this.onPointerUp);\n  }\n\n  removeDocumentEventListeners() {\n    document.removeEventListener('pointermove', this.onPointerMove);\n    document.removeEventListener('pointerup', this.onPointerUp);\n  }\n\n\n  scrollIfCloseToWindowEdge(clientY) {\n    const scrollingValue = 10;\n    const threshold = 20;\n\n    if (clientY < threshold) {\n      window.scrollBy(0, -scrollingValue);\n    } else if (clientY > document.documentElement.clientHeight - threshold) {\n      window.scrollBy(0, scrollingValue);\n    }\n  }\n\n  dragStop() {\n\n    this.draggingElem.style.cssText = '';\n    this.draggingElem.classList.remove('sortable-list__item_dragging');\n    this.placeholderElement.replaceWith(this.draggingElem);\n    this.draggingElem = null;\n\n    this.removeDocumentEventListeners();\n\n\n  }\n\n\n  getSubElements() {\n    const elements = this.element.querySelectorAll('[data-element]')\n    for (const item of elements) {\n      this.subElements[item.dataset.element] = item;\n    }\n    return this.subElements;\n  }\n\n\n  remove() {\n    if (this.element) {\n      this.element.remove();\n    }\n  }\n\n  destroy() {\n    this.remove();\n    this.removeDocumentEventListeners();\n    this.element = null;\n  }\n}\n","export default [\n  {\n    text: 'hehe',\n    count: 1,\n  },\n  {\n    text: 'not hehe',\n    count: 2,\n  },\n  {\n    text: 'elden ring',\n    count: 3,\n  },\n  {\n    text: 'javasript',\n    count: 4,\n  },\n  {\n    text: 'test',\n    count: 5,\n  },\n  {\n    text: 'warhammer',\n    count: 6,\n  },\n];","import SortableList from \"../../components/sortableList\";\nimport data from \"./data\";\n\nexport default class Page {\n    subElements = {};\n    components = {};\n\n   \n    constructor() {\n        this.data = data\n    }\n\n    render() {\n\n        const element = document.createElement('div');\n        element.innerHTML = this.getTemplate();\n\n        this.element = element.firstElementChild;\n\n        this.subElements = this.getSubElements();\n        this.initComponents();\n        this.renderComponents();\n\n        return this.element;\n    }\n\n\n    initComponents() {\n\n        const sortableListFirst = new SortableList({\n            items: this.data.map(item => {\n                const element = document.createElement('li');\n\n                element.innerHTML = `\n                <span>${item.text}</span>\n                <span data-delete-handle><img src=\"./assets/icons/handleDelete.svg\"></span>\n              `;\n\n                return element;\n            })\n        })\n\n        const sortableListSecond = new SortableList({\n            items: this.data.map(item => {\n                const element = document.createElement('li');\n\n                element.innerHTML = `\n                <span>${item.text}</span>\n                <span data-delete-handle><img src=\"./assets/icons/handleDelete.svg\"></span>\n              `;\n\n                return element;\n            })\n        })\n\n        const sortableListThird = new SortableList({\n            items: this.data.map(item => {\n                const element = document.createElement('li');\n\n                element.innerHTML = `\n                <span>${item.text}</span>\n                <span data-delete-handle><img src=\"./assets/icons/handleDelete.svg\"></span>\n              `;\n\n                return element;\n            })\n        })\n\n        this.components = {\n            sortableListFirst,\n            sortableListSecond,\n            sortableListThird,\n        }\n    }\n\n    renderComponents() {\n        Object.keys(this.components).forEach(component => {\n            const root = this.subElements[component];\n            const { element } = this.components[component];\n            root.append(element);\n        })\n    }\n\n\n\n    getSubElements() {\n        const elements = this.element.querySelectorAll('[data-element]')\n        for (const item of elements) {\n            this.subElements[item.dataset.element] = item;\n        }\n        return this.subElements;\n    }\n\n    removeEventListeners() {\n        this.removeEventListeners();\n    }\n\n    remove() {\n        if (this.element) {\n            this.element.remove()\n        }\n    }\n\n    destroy() {\n        this.remove();\n        this.element = null;\n        this.subElements = null;\n\n\n        for (const component of Object.values(this.components)) {\n            component.destroy();\n        }\n    }\n\n\n    getTemplate() {\n        return `\n        <div class=\"trello__tables\">\n        <div class=\"trello__table\" data-element=\"sortableListFirst\">\n        </div>\n        <div class=\"trello__table\" data-element=\"sortableListSecond\">\n        </div>\n        <div class=\"trello__table\" data-element=\"sortableListThird\">\n        </div>\n        </div>\n        `\n    }\n}"],"sourceRoot":""}